<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>I tuoi risultati</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" >
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" ></script>
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css">
    <style>
        .empty-response {
            font-style: italic;
            color: #888;
        }  
        
	    a:hover {
	      color: white; /* colore al passaggio del mouse */
	    }
    </style>
</head>
<body>
<main class="container">
    <h1 class="text-center">RISULTATI DI <span th:text="${username}"></span></h1>

    <p th:if="${punteggi}" class="text-center">
        Percentuale risposte corrette: <strong th:text="${#numbers.formatDecimal(percentuale, 0, 2)} + '%'"></strong>
    </p>

    <table>
        <thead>
	        <tr>
	            <th>Domanda</th>
	            <th>Risposta</th>
	            <th>Corretta</th>
	            <th>Difficoltà</th>
	            <th>Data</th>
	        </tr>
        </thead>
        <tbody>
	        <tr th:each="s : ${punteggi}">
	            <td th:text="${s.domanda}">Domanda</td>
	
	            <td th:if="${s.rispostaUtente != null}" th:text="${s.rispostaUtente}">Risposta</td>
	            <td th:if="${s.rispostaUtente == null}" class="empty-response">nessuna risposta</td>
	
	            <td th:text="${s.corretto ? '✅' : '❌'}">Esito</td>
	            <td th:text="${s.difficolta}">Difficoltà</td>
	            <td th:text="${#temporals.format(s.data, 'dd/MM/yyyy HH:mm')}">Data</td>
	        </tr>
        </tbody>
    </table>

    <a href="/home" role="button">Torna alla home</a>
</main>
</body>
</html>
